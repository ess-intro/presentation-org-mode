<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-04-01 Thu 20:50 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>using ESS with Emacs Org Mode</title>
<meta name="author" content="Greg Minshall" />
<meta name="generator" content="Org Mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style type="text/css">
#table-of-contents {
position: fixed;
right: 0;
top: 0;
background-color:#FFF;
padding: 1px 1%;
border: 1px solid rgb(201,44,44);
z-index: 2; /**/
}

/* Hide the full TOC by default */
#table-of-contents #text-table-of-contents { display: none; }

#table-of-contents:hover #text-table-of-contents {
display: block; /* Show it on hover */
}
</style>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">using ESS with Emacs Org Mode
<br />
<span class="subtitle">part of the ESS intro series</span>
</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org3a6662e">using ESS with Emacs Org Mode</a>
<ul>
<li><a href="#org4453ebf">Introduction to Org Mode</a></li>
<li><a href="#org9cb15bd">Babel &#x2013; programming language support in org files</a></li>
<li><a href="#orge4c3781">Org Mode community</a></li>
<li><a href="#org7a4626f">Other tutorials, etc.</a></li>
<li><a href="#org73f18f2">code blocks</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org3a6662e" class="outline-2">
<h2 id="org3a6662e">using ESS with Emacs Org Mode</h2>
<div class="outline-text-2" id="text-org3a6662e">
</div>
<div id="outline-container-org4453ebf" class="outline-3">
<h3 id="org4453ebf">Introduction to Org Mode</h3>
<div class="outline-text-3" id="text-org4453ebf">
<p>
basics: document structuring, tables, math/LaTeX, exporting
</p>

<p>
<a href="https://www.gnu.org/software/emacs/">Emacs</a> (<a href="https://en.wikipedia.org/wiki/Emacs">wikipedia</a>) <a href="https://orgmode.org/">Org Mode</a> <sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>  sometimes exhorts one to do something like "Organize Your
Life In Plain Text!"; the Org Mode manual, on the other hand, starts
off by saying, "Org is an outliner".  The philosophy of Org Mode
(indeed, of Emacs, and maybe, to some extent, of any of the *nix
operating systems) is that using non-proprietary file formats and
software provides the most "liberating" and "horizon-free" way of
taking advantage of modern information technology.  And, to some
extent, that a mostly-command line interface, rather than a graphical
user interface, is also "the way to go".
</p>

<p>
I think Org Mode started off as a way of simplifying the creation of
formatted documents, with tables, etc., for taking notes, creating
agendas (items with date elements), and evolved into a much larger
system of utilities for, for example, converting ("exporting", in org
mode parlance) between the Org Mode syntax to .html, .pdf, etc.,
documents, with good support for doing mathematical (LaTeX)
formatting.
</p>

<p>
Org Mode does a good job exporting to LaTeX, html.  (Some people
primarily use Org Mode as a more "user friendly" interface to LaTeX,
though for serious documents, in the final analysis they probably
spend a lot of time tweaking LaTeX, and org-to-LaTeX, configuration.)
</p>

<p>
Though I have used Org Mode for more than a decade, I know very little
of most of its capabilities, as I mostly use it to centralize the
source code within a project, as well as to produce the random
document, especially documents with embedded code segments (known, in
Org Mode, as "source blocks").
</p>

<p>
Org Mode is bundled into the main Emacs distribution, but a
more-than-casual user might like to use the more-than-likely
up-to-date package available via <a href="https://melpa.org/">melpa</a> (<code>[M-x package-list-packages]</code>,
and regexp-search for /^..org /).
</p>

<p>
The official <a href="https://orgmode.org/quickstart.html">Quick Start</a> guide provides a very good introduction to
Org Mode.  The main <a href="https://orgmode.org/">Org Mode</a> web page is another good source for
further information, as is the Org Mode <a href="https://orgmode.org/worg/">worg</a> site.  (You may find it
useful to take a linear stroll through <a href="https://orgmode.org/worg/sitemap.html">the worg site map</a>.)  Also, once
installed on your system, the Org Mode info pages are available in
Emacs (or, using <code>info(1)</code>).
</p>
</div>


<div id="outline-container-org31a85ef" class="outline-4">
<h4 id="org31a85ef">Blocks of various sizes, shapes, colors</h4>
<div class="outline-text-4" id="text-org31a85ef">
<p>
Various sorts of "blocks" are supported in Org Mode files.  These
start with <code>#begin_...</code>, and end with a corresponding <code>#end_...</code>,
where the <code>...</code> are something like <code>src</code>, <code>example</code>, <code>quote</code>.  A
skeleton for one of these can conveniently be created by, in column 1
of an otherwise empty line, typing <code>[&lt;X]</code> followed by <code>[tab]</code>, where
<code>X</code> is one of
</p>
<ul class="org-ul">
<li><code>e</code> for an example block (line wrapping does not apply) (<code>#+begin_example</code>)</li>
<li><code>q</code> for a quote block (line wrapping applies) (<code>#+begin_quote</code>)</li>
<li><code>s</code> for a source block (<code>#+begin_src</code>)</li>
</ul>

<p>
there are various other blocks; you can experiment by typing (in
column one, of an otherwise empty line) <code>[&lt;]</code> and then one of the
following, and hitting <code>[tab]</code>:
</p>
<pre class="example">
a, c, C, E, h, l, v
</pre>

<p>
seeing what you get, looking in the manual.  (Of course, one can
always search the manual for <code>#[+]begin_</code>.)
</p>

<p>
In addition to the source blocks mentioned above (and elaborated on
below), Org Mode allows short bits of "verbatim" code to be introduced
by a colon as the first non-blank column of a line
</p>
<div class="org-src-container">
<pre class="src src-org"><span style="color: #b3b3b3;">: this is verbatim</span>
</pre>
</div>

<p>
One can have longer runs of verbatim ("example") data (which is not
word wrapped, etc.:
</p>
<div class="org-src-container">
<pre class="src src-org"><span style="color: #ff7f24;">#+name: ex</span>
<span style="color: #ff7f24;">#+begin_example</span>
this is a block
that
holds more verbatim text
<span style="color: #ff7f24;">#+end_example</span>
</pre>
</div>

<p>
As well as longer bits of text that <b>will</b> be wrapped ("quote"):
</p>
<div class="org-src-container">
<pre class="src src-org"><span style="color: #ff7f24;">#+begin_quote</span>
this is a bit of
text that should
show up, eventually, strung out in a smaller
number
of
lines when "filled"
(e.g., [M-x org-fill-paragraph], [M-q])
<span style="color: #ff7f24;">#+end_quote</span>
</pre>
</div>

<p>
Blocks can optionally have <a href="#org038ad62">names</a>.  These names can be used as <a href="#org5bb0595">noweb</a>
references, or to use the value of a block (or, if a source block, of
the block's results) as input (a <a href="#orgbbab0e0">variable</a>) to another block in the
file.<sup><a id="fnr.2" class="footref" href="#fn.2">2</a></sup>
</p>
</div>
</div>
</div>

<div id="outline-container-org9cb15bd" class="outline-3">
<h3 id="org9cb15bd">Babel &#x2013; programming language support in org files</h3>
<div class="outline-text-3" id="text-org9cb15bd">
<p>
<a href="https://orgmode.org/worg/org-contrib/babel/intro.html">Babel</a> is one name for talking about programming language support in
Org Mode.  You are able to embed source code inside of Org Mode
buffers, edit these code blocks in a language-specific way, evaluate
code blocks, pass the results of the evaulation of one code block to
another code block, and include code blocks and/or the results of
their evaulation in the document produced by exporting the org buffer.
</p>
</div>

<div id="outline-container-org92bdf40" class="outline-4">
<h4 id="org92bdf40"><a id="org19d99cc"></a> Source blocks</h4>
<div class="outline-text-4" id="text-org92bdf40">
<p>
The Org Mode <a href="https://orgmode.org/guide/">Compact Guide</a> has <a href="https://orgmode.org/guide/Working-with-Source-Code.html">a section</a> on source blocks.  A separate
<a href="https://orgmode.org/worg/org-contrib/babel/languages/ob-doc-R.html">"worg" page</a> gives information on using R with Org Mode.  The list of
languages supported by Org Mode is documented <a href="https://orgmode.org/worg/org-contrib/babel/languages/index.html">here</a>.
</p>

<p>
An Org Mode source block includes source code (in one language, per
source block), an optional <a href="#org038ad62">name</a>, and optional <i><a href="#org6254a44">header arguments</a></i>.
</p>

<p>
Org Mode source blocks look like this
</p>
<div class="org-src-container">
<pre class="src src-org"><span style="color: #ff7f24;">#+name: ex</span>
<span style="color: #ff7f24;">#+begin_example</span>
this is a block
that
holds more verbatim text
<span style="color: #ff7f24;">#+end_example</span>

<span style="color: #ff7f24;">#+begin_src R :var foo=ex :exports both</span>
<span style="color: #b3b3b3;">foo</span>
<span style="color: #ff7f24;">#+end_src</span>

<span style="color: #ff7f24;">#+RESULTS:</span>
<span style="color: #87cefa;">| this is a block          |</span>
<span style="color: #87cefa;">| that                     |</span>
<span style="color: #87cefa;">| holds more verbatim text |</span>
<span style="color: #87cefa;">|                          |</span>

<span style="color: #ff7f24;">#+begin_src R :var foo=ex :exports code</span>
<span style="color: #b3b3b3;">foo</span>
<span style="color: #ff7f24;">#+end_src</span>

<span style="color: #ff7f24;">#+RESULTS:</span>
<span style="color: #87cefa;">| this is a block          |</span>
<span style="color: #87cefa;">| that                     |</span>
<span style="color: #87cefa;">| holds more verbatim text |</span>
<span style="color: #87cefa;">|                          |</span>

</pre>
</div>

<p>
(As mentioned above, a source block skeleton can be created by
typing, in column 1, <code>&lt;s</code>, and hitting <code>tab</code>.)
</p>

<p>
Source blocks can also be expressed using a <code>src_LANG</code> construct; a
<code>#+name:</code> line can be used to name the <code>src_LANG</code> block.
</p>

<div class="org-src-container">
<pre class="src src-org"><span style="color: #ff7f24;">#+name: whyo</span>
src_R{"42"} <span style="color: #deb887;">{{{results(</span><span style="color: #b3b3b3;">=42=</span><span style="color: #deb887;">)}}}</span>

<span style="color: #ff7f24;">#+begin_src R :var x=whyo :exports results</span>
<span style="color: #b3b3b3;">x</span>
<span style="color: #ff7f24;">#+end_src</span>

<span style="color: #ff7f24;">#+RESULTS:</span>
<span style="color: #87cefa;">| 42 |</span>
<span style="color: #87cefa;">|    |</span>

</pre>
</div>

<p>
<code>src_LANG</code> constructs also have a syntax for defining <a href="#org6254a44"><code>header arguments</code></a>.
</p>
</div>
</div>

<div id="outline-container-orgda92e1c" class="outline-4">
<h4 id="orgda92e1c">Evaluating source blocks</h4>
<div class="outline-text-4" id="text-orgda92e1c">
<p>
Once written, a source block can be evaluated<sup><a id="fnr.3" class="footref" href="#fn.3">3</a></sup>, returning <a href="#org74f2034">results</a>,
either the output of the code, or some terminating "value" of the
code, as an element of the .org file.  And, the blocks can be
evaluated manually, or &#x2013; and optionally, block by block &#x2013; while
exporting a .org file to a different format.
</p>

<p>
A source block can be evaluated in one of two sorts of contexts,
within a "session", or outside of a "session".  A "session" here means
some process that retains state between evaulations of (possibly
different, but using the same programming language) source blocks.  On
the other hand, a "non-session" starts up with no internal state from
prior runs <sup><a id="fnr.4" class="footref" href="#fn.4">4</a></sup>.
</p>


<p>
Finally, and of particular interest in these tutorials, is the fact
that Org Mode uses ESS to provide R language support.
</p>
</div>
</div>

<div id="outline-container-org621922b" class="outline-4">
<h4 id="org621922b"><a id="org038ad62"></a> Naming blocks</h4>
<div class="outline-text-4" id="text-org621922b">
<p>
Org Mode source blocks can be named.  The name can be used to include
the <b>source</b> of one block in another block via <a href="#org5bb0595">noweb</a>, or to include
the <b>results</b> of the evaluation of one block as an input <a href="#orgbbab0e0">variable</a> to
another block.
</p>

<p>
Org Mode source blocks are named with a <code>#+name:</code> line:
</p>
<div class="org-src-container">
<pre class="src src-org"><span style="color: #ff7f24;">#+name: somecode</span>
<span style="color: #ff7f24;">#+begin_src R :results output</span>
<span style="color: #b3b3b3;">    cat(</span><span style="color: #ffa07a;">"this is *some* code!\n"</span><span style="color: #b3b3b3;">)</span>
<span style="color: #ff7f24;">#+end_src</span>

<span style="color: #ff7f24;">#+RESULTS: somecode</span>
<span style="color: #b3b3b3;">: this is *some* code!</span>

<span style="color: #ff7f24;">#+name: someothercode</span>
<span style="color: #ff7f24;">#+begin_src R :results value</span>
<span style="color: #b3b3b3;">    whynot </span><span style="color: #7fffd4;">&lt;-</span><span style="color: #b3b3b3;"> </span><span style="color: #ffa07a;">"this is some *other* code!"</span>
<span style="color: #ff7f24;">#+end_src</span>

<span style="color: #ff7f24;">#+RESULTS: someothercode</span>
<span style="color: #b3b3b3;">: this is some *other* code!</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org3b36288" class="outline-4">
<h4 id="org3b36288"><a id="org6254a44"></a> Header arguments</h4>
</div>
<div id="outline-container-org878e7ad" class="outline-4">
<h4 id="org878e7ad"><a id="org92aa496"></a> Tangling</h4>
<div class="outline-text-4" id="text-org878e7ad">
<p>
While often we are content to evaluate code blocks inside the .org
file, equally often we might want to export some or all of the code
blocks for evaulation (or inspection) outside of the .org file.  For
example, we might want to use some of the code in the .org file to
create an R package.
</p>

<p>
In the world of <a href="https://orgmode.org/worg/org-contrib/babel/index.html">literate programming</a>, <i>tangling</i> is the process of
extracting source code from a (theoretically primarily text) document.
In Org Mode, one uses <code>org-babel-tangle</code> (normally bound to <code>[C-c C-v
t]</code>) to tangle the source code blocks in a file.  The file to which a
source block will be tangled is specified in the <code>:tangle</code> attribute,
placed on the <code>#+src_block</code> line or in a <code>:header-args</code> line (in a
<a href="#org2e55ceb">properties drawer</a>, to apply to a subtree of the .org file, or
stand-alone as above to apply to the entire .org file).
</p>

<p>
To actually <i>tangle</i> a file, use <code>]M-x org-babel-tangle]</code>, often bound
to <code>[C-c C-v t]</code>.
</p>

<p>
The name of the file to which a given source block is tangled is given
by the <code>:tangle</code> <a href="#org6254a44">header argument</a>.  Like other header arguments, the
<code>:tangle</code> header argument can be specified by one of several ways.
The first way is by specifying it adjoining the source block, either
on the <code>#+begin_src</code> line, or on an immediately preceding <code>#+header</code>
line (basically, an overflow of the <code>#+begin_src</code> line):
</p>

<div class="org-src-container">
<pre class="src src-org"><span style="color: #ff7f24;">#+begin_src R :tangle ./nosuchdirectory/foofile</span>
<span style="color: #ffa07a;">"this is some R code"</span>
<span style="color: #ff7f24;">#+end_src</span>

<span style="color: #ff7f24;">#+RESULTS:</span>
<span style="color: #b3b3b3;">: this is some R code</span>

<span style="color: #ff7f24;">#+header: :tangle ./nosuchdirectory/anotherfile</span>
<span style="color: #ff7f24;">#+begin_src R</span>
<span style="color: #ffa07a;">"this is some more R code"</span>
<span style="color: #ff7f24;">#+end_src</span>

<span style="color: #ff7f24;">#+RESULTS:</span>
<span style="color: #b3b3b3;">: this is some more R code</span>
</pre>
</div>

<p>
<a id="org2e55ceb"></a> Second, the destination file to tangle a subtree's
worth of source blocks can be specified in a PROPERIES drawer on the
headline for that tree using the <code>header-args</code> property's <code>tangle</code>
attribute to name the code blocks in that branch that don't have a
"more local" <code>:tangle</code> specification.
</p>

<p>
Alternatively, using a <code>#+property</code> tag at the top of a file, you can
define a default tangle destination for all the code blocks in the
file that don't have a "more local" <code>:tangle</code> specification.
</p>

<div class="org-src-container">
<pre class="src src-org"><span style="color: #ff7f24;">#+property: header-args :tangle ./nosuchdirectory/bigfile</span>

<span style="color: #eedd82;">** this is somewhere in this file</span>
     <span style="color: #87cefa;">:PROPERTIES:</span>
     <span style="color: #00ffff;">:header-args</span><span style="color: #00ffff; text-decoration: line-through;">+:</span><span style="text-decoration: line-through;"> </span><span style="text-decoration: line-through;">:tangle very/important/code.R</span>
<span style="text-decoration: line-through;">     </span><span style="color: #00ffff; text-decoration: line-through;">:header-args+</span><span style="color: #00ffff;">:</span> :noweb-ref nowcode
     <span style="color: #87cefa;">:END:</span>

now, code blocks will carry that name
<span style="color: #ff7f24;">#+begin_src R</span>
<span style="color: #b3b3b3;">    x </span><span style="color: #7fffd4;">&lt;-</span><span style="color: #b3b3b3;"> </span><span style="color: #ffa07a;">"we want some code, and we want it now!"</span>
<span style="color: #ff7f24;">#+end_src</span>

<span style="color: #ff7f24;">#+RESULTS:</span>
<span style="color: #b3b3b3;">: we want some code, and we want it now!</span>

<span style="color: #eedd82;">** somewhere else</span>
<span style="color: #ff7f24;">#+begin_src R :results output</span>

<span style="color: #b3b3b3;">    cat(x, </span><span style="color: #ffa07a;">"\n"</span><span style="color: #b3b3b3;">)</span>
<span style="color: #ff7f24;">#+end_src</span>

<span style="color: #ff7f24;">#+RESULTS:</span>
</pre>
</div>

<p>
As you can see, the properties drawer can carry many of properties,
including the name of a destination file for <a href="#org92aa496">tangling</a>.  The very odd
<code>&lt;&lt;nowcode&gt;&gt;</code> is our next topic: <a href="#org5bb0595">noweb</a>.
</p>
</div>
</div>

<div id="outline-container-org5606764" class="outline-4">
<h4 id="org5606764"><a id="org5bb0595"></a> noweb</h4>
<div class="outline-text-4" id="text-org5606764">
<p>
<a href="https://orgmode.org/worg/org-contrib/babel/intro.html#literate-programming-example">noweb</a> is a literate programming syntax to allow referencing blocks of
code within some larger (.org file, say) context.  It allows a
programmer to re-use bits of code (sort of <code>#include</code> like).
</p>

<p>
noweb syntax is <b>disabled</b> by default.  To enable noweb syntax, one
can either enable it on the header line of each source code block,
enable it in a <a href="#org2e55ceb">properties drawer</a>, or, as in the following, enable it
once at the beginning of an org file:
</p>
<div class="org-src-container">
<pre class="src src-org"><span style="color: #ff7f24;">#+property: header-args  :noweb yes</span>
</pre>
</div>

<p>
Once enabled, references of the kind <code>&lt;&lt;NAME&gt;&gt;</code> will incorporate the
contents of a previous source code block.
</p>

<div class="org-src-container">
<pre class="src src-org"><span style="color: #ff7f24;">#+property: header-args :noweb yes</span>

<span style="color: #ff7f24;">#+name: fubar</span>
<span style="color: #ff7f24;">#+begin_src R</span>
<span style="color: #ffa07a;">"this is an example"</span>
<span style="color: #ff7f24;">#+end_src</span>

<span style="color: #ff7f24;">#+RESULTS: fubar</span>
<span style="color: #b3b3b3;">: this is an example</span>

<span style="color: #ff7f24;">#+begin_src R</span>

<span style="color: #ff7f24;">#+end_src</span>

<span style="color: #ff7f24;">#+RESULTS:</span>
<span style="color: #b3b3b3;">: this is an example</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb180605" class="outline-4">
<h4 id="orgb180605"><a id="org27ad091"></a> Evaulating</h4>
<div class="outline-text-4" id="text-orgb180605">
</div>
<ul class="org-ul">
<li><a id="orga538535"></a><code>[C-c C-c]</code> on a source block<br /></li>
<li><a id="org15ce35a"></a><code>[C-c C-c]</code> on an inline source block<br /></li>
<li><a id="orgbf2bafb"></a><code>[C-c C-c]</code> on a #+call<br /></li>
<li><a id="org90d516b"></a><code>[C-c C-c]</code> on an inline-call<br />
<div class="outline-text-5" id="text-org90d516b">
<div class="org-src-container">
<pre class="src src-org"><span style="color: #ff7f24;">#+name: find-orgs</span>
<span style="color: #ff7f24;">#+begin_src R</span>
<span style="color: #b3b3b3;">1</span>
<span style="color: #ff7f24;">#+end_src</span>

<span style="color: #ff7f24;">#+RESULTS: find-orgs</span>
<span style="color: #b3b3b3;">: 1</span>

call_find-orgs() <span style="color: #deb887;">{{{results(</span><span style="color: #b3b3b3;">=1=</span><span style="color: #deb887;">)}}}</span>

<span style="color: #ff7f24;">#+call: find-orgs()</span>

<span style="color: #ff7f24;">#+RESULTS:</span>
<span style="color: #b3b3b3;">: 1</span>

call_find-orgs() <span style="color: #deb887;">{{{results(</span><span style="color: #b3b3b3;">=1=</span><span style="color: #deb887;">)}}}</span>

</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgb8c24f7" class="outline-4">
<h4 id="orgb8c24f7"><a id="org74f2034"></a> Results</h4>
<div class="outline-text-4" id="text-orgb8c24f7">
<div class="org-src-container">
<pre class="src src-org"><span style="color: #ff7f24;">#+name: somecode</span>
<span style="color: #ff7f24;">#+begin_src R :results output</span>
<span style="color: #b3b3b3;">    cat(</span><span style="color: #ffa07a;">"this is *some* code!\n"</span><span style="color: #b3b3b3;">)</span>
<span style="color: #ff7f24;">#+end_src</span>

<span style="color: #ff7f24;">#+RESULTS: somecode</span>
<span style="color: #b3b3b3;">: this is *some* code!</span>

<span style="color: #ff7f24;">#+name: someothercode</span>
<span style="color: #ff7f24;">#+begin_src R :results value</span>
<span style="color: #b3b3b3;">    whynot </span><span style="color: #7fffd4;">&lt;-</span><span style="color: #b3b3b3;"> </span><span style="color: #ffa07a;">"this is some *other* code!"</span>
<span style="color: #ff7f24;">#+end_src</span>

<span style="color: #ff7f24;">#+RESULTS: someothercode</span>
<span style="color: #b3b3b3;">: this is some *other* code!</span>

</pre>
</div>
</div>

<ul class="org-ul">
<li><a id="org3fc2826"></a>:colnames and :rownames<br />
<div class="outline-text-5" id="text-org3fc2826">
<p>
When processing a table result of a previous source block to be used
as an input <a href="#orgbbab0e0">variable</a> to another code block, the <code>:colnames</code> header
argument instructs Org Mode how to interpret the first row: should it
be assumed to be a row of column names, a row of data, or should Org
Mode use a heuristic to make that determination.
</p>

<p>
Similarly, Org Mode uses <code>:rownames</code> to determine whether the first
column of each row should be considered as a name for that row, or
simply as the data of the first column of that row.
</p>

<p>
Also, when processing the <b>results</b> of a code block, these header
arguments tell some Org Mode language support routines how to deal
with column and row names of the returned result.  If left off, the
Org Mode result of evaluation will drop any language-specific column
and row names.  However, if these header arguments are set to <code>yes</code>,
language-specific column and row names will be included in the results
placed in the Org Mode buffer.
</p>

<div class="org-src-container">
<pre class="src src-org"><span style="color: #ff7f24;">#+BEGIN_SRC R</span>
<span style="color: #b3b3b3;">mtcars[1:3,]</span>
<span style="color: #ff7f24;">#+END_SRC</span>

<span style="color: #ff7f24;">#+RESULTS:</span>
<span style="color: #87cefa;">|   21 | 6 | 160 | 110 |  3.9 |  2.62 | 16.46 | 0 | 1 | 4 | 4 |</span>
<span style="color: #87cefa;">|   21 | 6 | 160 | 110 |  3.9 | 2.875 | 17.02 | 0 | 1 | 4 | 4 |</span>
<span style="color: #87cefa;">| 22.8 | 4 | 108 |  93 | 3.85 |  2.32 | 18.61 | 1 | 1 | 4 | 1 |</span>

<span style="color: #ff7f24;">#+begin_src R :colnames yes :rownames yes</span>
<span style="color: #b3b3b3;">mtcars[1:3,]</span>
<span style="color: #ff7f24;">#+end_src</span>

<span style="color: #ff7f24;">#+RESULTS:</span>
<span style="color: #87cefa;">|               |  mpg | cyl | disp |  hp | drat |    wt |  qsec | vs | am | gear | carb |</span>
<span style="color: #87cefa;">|---------------+------+-----+------+-----+------+-------+-------+----+----+------+------|</span>
<span style="color: #87cefa;">| Mazda RX4     |   21 |   6 |  160 | 110 |  3.9 |  2.62 | 16.46 |  0 |  1 |    4 |    4 |</span>
<span style="color: #87cefa;">| Mazda RX4 Wag |   21 |   6 |  160 | 110 |  3.9 | 2.875 | 17.02 |  0 |  1 |    4 |    4 |</span>
<span style="color: #87cefa;">| Datsun 710    | 22.8 |   4 |  108 |  93 | 3.85 |  2.32 | 18.61 |  1 |  1 |    4 |    1 |</span>

</pre>
</div>
</div>
</li>
</ul>
</div>

<div id="outline-container-org59c81fe" class="outline-4">
<h4 id="org59c81fe"><a id="orgbbab0e0"></a> Variables</h4>
<div class="outline-text-4" id="text-org59c81fe">
<p>
&#x2013; in and out
entire document or a subtree of the document
</p>
</div>
</div>
<div id="outline-container-org5a0b30d" class="outline-4">
<h4 id="org5a0b30d">Life in Org Src buffers</h4>
</div>
<div id="outline-container-org83e2cc5" class="outline-4">
<h4 id="org83e2cc5"><a id="org00a8ec7"></a> Exporting</h4>
</div>
</div>

<div id="outline-container-orge4c3781" class="outline-3">
<h3 id="orge4c3781">Org Mode community</h3>
<div class="outline-text-3" id="text-orge4c3781">
<p>
mailing lists
</p>
</div>
</div>

<div id="outline-container-org7a4626f" class="outline-3">
<h3 id="org7a4626f">Other tutorials, etc.</h3>
<div class="outline-text-3" id="text-org7a4626f">
<p>
The Org Mode <a href="https://orgmode.org/quickstart.html">quickstart</a> is a nice way to start with Org Mode.
</p>

<p>
<a href="https://www.youtube.com/playlist?list=PLVtKhBrRV_ZkPnBtt_TD1Cs9PJlU0IIdE">Rainer's screencasts about Org Mode</a> (now a <a href="https://www.udemy.com/course/getting-yourself-organized-with-org-mode/?referralCode=D0CB0D077ED5EC0788F7">course on Udemy</a>)
</p>

<p>
<a href="https://github.com/erikriverson/org-mode-R-tutorial/blob/master/org-mode-R-tutorial.org">tutorial on R and Org Mode</a>
</p>
<pre class="example" id="org4d21da0">
From: Erik Iverson &lt;erikriverson@gmail.com&gt;
Date: Tue, 23 Feb 2021 12:30:03 -0800
Subject: Re: org-in-org
To: Greg Minshall &lt;minshall@umich.edu&gt;
Cc: emacs-orgmode &lt;emacs-orgmode@gnu.org&gt;
</pre>

<p>
<a href="https://raw.githubusercontent.com/vikasrawal/orgpaper/master/orgpapers.org">https://raw.githubusercontent.com/vikasrawal/orgpaper/master/orgpapers.org</a>
or
<a href="https://github.com/vikasrawal/orgpaper/blob/master/orgpapers.org">https://github.com/vikasrawal/orgpaper/blob/master/orgpapers.org</a>
or, more recently:
</p>
<pre class="example" id="org0b51532">
From: Jeremie Juste &lt;jeremiejuste@gmail.com&gt;
To: Greg Minshall &lt;minshall@umich.edu&gt;
Subject: Re: org-in-org
Date: Tue, 23 Feb 2021 22:38:06 +0100
Cc: emacs-orgmode@gnu.org
</pre>
</div>
</div>

<div id="outline-container-org73f18f2" class="outline-3">
<h3 id="org73f18f2">code blocks</h3>
<div class="outline-text-3" id="text-org73f18f2">
<p>
there are a few pieces of information Org Mode needs to define a
block of code
</p>
<ul class="org-ul">
<li>(optionally) a <code>name</code> for the block (to use to include the block's
code in another block with <a href="ess-org.html#org5606764">noweb</a>, or to use the block's results as
input to another block with <a href="#orgbbab0e0">:var</a>.</li>
<li>the language of the code in the block</li>
<li>various arguments (<code>header arguments</code> and <code>switches</code>) that define
how the code interacts with its environment</li>
<li>the source code itself</li>
</ul>

<p>
there are at least two ways of encoding the needed information:
</p>
</div>

<div id="outline-container-orged10981" class="outline-4">
<h4 id="orged10981">a source block</h4>
<div class="outline-text-4" id="text-orged10981">
<p>
the most "normal" way of defining source code is with a <i>source
block</i>.
</p>

<div class="org-src-container">
<pre class="src src-org"><span style="color: #ff7f24;">#+begin_src R</span>
<span style="color: #b3b3b3;">  </span><span style="color: #ffa07a;">"hello, world"</span>
<span style="color: #ff7f24;">#+end_src</span>

<span style="color: #ff7f24;">#+RESULTS:</span>
<span style="color: #b3b3b3;">: hello, world</span>
</pre>
</div>

<p>
we use this form below in discussing the structure of a code block.
</p>
</div>
</div>

<div id="outline-container-org8f5f9e5" class="outline-4">
<h4 id="org8f5f9e5">an <i>inline</i> code block</h4>
<div class="outline-text-4" id="text-org8f5f9e5">
<p>
in a second form, known as an <i>inline code block</i>, the entire block
can fit on one line (though multiple lines are possible).
</p>

<div class="org-src-container">
<pre class="src src-org">src_R{"hello, world"} <span style="color: #deb887;">{{{results(</span><span style="color: #b3b3b3;">=hello\, world=</span><span style="color: #deb887;">)}}}</span>
</pre>
</div>

<p>
i don't use this form.  for this tutorial i looked at it briefly.  it
appears its semantics are different from that of source blocks.  other
than that, i will not discuss it further.
</p>
</div>
</div>

<div id="outline-container-org5ac5edf" class="outline-4">
<h4 id="org5ac5edf">the anatomy of a source block</h4>
<div class="outline-text-4" id="text-org5ac5edf">
<div class="org-src-container">
<pre class="src src-org"><span style="color: #ff7f24;">#+name: refid</span>
<span style="color: #ff7f24;">#+begin_example</span>
this is a test
<span style="color: #ff7f24;">#+end_example</span>

<span style="color: #ff7f24;">#+name: anatomy</span>
<span style="color: #ff7f24;">#+begin_src R :var varname=refid :results output</span>
<span style="color: #b3b3b3;">cat(varname)</span>
<span style="color: #ff7f24;">#+end_src</span>

<span style="color: #ff7f24;">#+RESULTS: anatomy</span>
<span style="color: #b3b3b3;">: this is a test</span>

<span style="color: #ff7f24;">#+header: :var anothername=anatomy</span>
<span style="color: #ff7f24;">#+header: :exports results</span>
<span style="color: #ff7f24;">#+header: :results value</span>
<span style="color: #ff7f24;">#+name: second</span>
<span style="color: #ff7f24;">#+begin_src R</span>
<span style="color: #b3b3b3;">anothername</span>
<span style="color: #ff7f24;">#+end_src</span>

<span style="color: #ff7f24;">#+RESULTS: second</span>
<span style="color: #87cefa;">| this is a test |</span>
<span style="color: #87cefa;">|                |</span>
</pre>
</div>

<p>
the block named <i>refid</i> is not a code block, but shows how the
contents of another block (verbatim, in this case) can be used as
input to a code block.
</p>

<p>
we set <i>anatomy</i> as the name of the first code block, using the
<code>#+name</code> line.
</p>

<p>
then, we declare <i>anatomy's</i> source block with the <code>#+begin_src</code> line,
which has
</p>
<ul class="org-ul">
<li>the language (<code>R</code>, of course)</li>
<li>a header argument specifying an input variable named <i>varname</i>,
using the value of <i>refid</i> block</li>
<li>another header argument specifying that the result of this block
will be taken from whatever it prints on stdout</li>
</ul>

<p>
the code for <i>anatomy</i> just consists of printing the (input) variable
<i>varname</i> to stdout.
</p>

<p>
we continue by defining yet another source block, which we name
<i>second</i>.  it shows a different way of specifying the header
arguments, via <code>#+header</code> lines, each of which can define one or more
header arguments.  one can put some header arguments on the
<code>#+begin_src</code> line, some on one or or more <code>#+header</code> lines.
</p>

<ul class="org-ul">
<li>:exports code</li>
<li>:results table</li>
<li>:colnames yes</li>
<li>:exports none</li>
<li>:tangle no</li>
<li>:results none</li>
<li>:var csvsedtable=csvsedtable</li>
<li>:results output verbatim</li>
<li>:cache</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara">a.k.a., "org-mode", Org Mode, orgmode
&#x2013; the proliferation of notation makes googling somewhat of a
challenge.</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2">2</a></sup> <div class="footpara"><p class="footpara">I believe there are facilities for "naming" bits of
information in other .org files, but I don't know the details and I
don't know if it works with source code blocks.</p></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3">3</a></sup> <div class="footpara"><p class="footpara">for security
reasons, you will need to set or customize the Emacs variable
<code>org-babel-load-languages</code> , via <code>org-babel-do-load-languages</code> if you
are doing this to in a current Emacs session, and you will be prompted
each time before a code block is evaluated.</p></div></div>

<div class="footdef"><sup><a id="fn.4" class="footnum" href="#fnr.4">4</a></sup> <div class="footpara"><p class="footpara">obviously, prior runs may have, e.g., changed the
state of the file system on which all these evaulations are running;
that is, the <b>external</b> state may by influenced by what has previously
been evaluated.</p></div></div>


</div>
</div></div>
<div id="postamble" class="status">
<p class="author">Author: Greg Minshall</p>
<p class="date">Created: 2021-04-01 Thu 20:50</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
